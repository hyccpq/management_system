{"remainingRequest":"/Users/kalec/WebstormProjects/management_system/node_modules/happypack/loader.js?id=babel!/Users/kalec/WebstormProjects/management_system/node_modules/ts-loader/index.js??ref--4-2!/Users/kalec/WebstormProjects/management_system/src/util/axios.ts","dependencies":[{"path":"/Users/kalec/WebstormProjects/management_system/src/util/axios.ts","mtime":1531745343000},{"path":"/Users/kalec/WebstormProjects/management_system/.babelrc","mtime":1531931596000},{"path":"/Users/kalec/WebstormProjects/management_system/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/kalec/WebstormProjects/management_system/node_modules/happypack/loader.js","mtime":1451208347000},{"path":"/Users/kalec/WebstormProjects/management_system/node_modules/ts-loader/index.js","mtime":1530127508000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _axios = require('axios');\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n    var enterModule = require('react-hot-loader').enterModule;\n\n    enterModule && enterModule(module);\n})();\n\nvar http = _axios2.default.create({\n    baseURL: location.protocol + '//' + location.hostname + ':' + location.port,\n    timeout: 5000,\n    data: {}\n});\nfunction _request() {\n    var param = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n    return http(Object.assign({}, param)).then(function (res) {\n        var _res$data = res.data,\n            msg = _res$data.msg,\n            status = _res$data.status;\n\n        if (status === 10) {\n            window.location.href = '/login';\n            return;\n        } else if (status === 0) {\n            fn(false);\n            return res;\n        } else {\n            throw msg;\n        }\n    }).catch(function (error) {\n        fn(false);\n        throw error;\n    });\n}\nfunction request(param) {\n    var type = typeof param === 'undefined' ? 'undefined' : _typeof(param);\n    if (type === 'function') {\n        param(true);\n        return function (obj) {\n            return _request(obj, param);\n        };\n    } else if (type === 'object' && type !== null) {\n        return _request(param);\n    }\n}\nvar _default = request;\nexports.default = _default;\n;\n\n(function () {\n    var reactHotLoader = require('react-hot-loader').default;\n\n    var leaveModule = require('react-hot-loader').leaveModule;\n\n    if (!reactHotLoader) {\n        return;\n    }\n\n    reactHotLoader.register(http, 'http', '/Users/kalec/WebstormProjects/management_system/src/util/axios.ts');\n    reactHotLoader.register(_request, '_request', '/Users/kalec/WebstormProjects/management_system/src/util/axios.ts');\n    reactHotLoader.register(request, 'request', '/Users/kalec/WebstormProjects/management_system/src/util/axios.ts');\n    reactHotLoader.register(_default, 'default', '/Users/kalec/WebstormProjects/management_system/src/util/axios.ts');\n    leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/kalec/WebstormProjects/management_system/src/util/axios.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAEA,IAAI,OAAsB,gBAAM,MAAN,CAAa;AACtC,aAAY,SAAS,QAArB,UAAkC,SAAS,QAA3C,SAAuD,SAAS,IAD1B;AAEtC,aAAS,IAF6B;AAGtC,UAAM;AAHgC,CAAb,CAA1B;AAMA,SAAA,QAAA,GAAyD;AAAA,QAAvC,KAAuC,uEAA3B,EAA2B;AAAA,QAAvB,EAAuB,uEAAR,YAAK,CAAG,CAAA;;AACxD,WAAO,KAAI,OAAA,MAAA,CAAA,EAAA,EACP,KADO,CAAJ,EAGL,IAHK,CAGA,UAAC,GAAD,EAAQ;AAAA,wBACW,IAAI,IADf;AAAA,YACL,GADK,aACL,GADK;AAAA,YACA,MADA,aACA,MADA;;AAGb,YAAI,WAAW,EAAf,EAAmB;AAClB,mBAAO,QAAP,CAAgB,IAAhB,GAAuB,QAAvB;AAEA;AACA,SAJD,MAIO,IAAI,WAAW,CAAf,EAAkB;AACxB,eAAG,KAAH;AAEA,mBAAO,GAAP;AACA,SAJM,MAIA;AACN,kBAAM,GAAN;AACA;AACD,KAjBK,EAkBL,KAlBK,CAkBC,UAAC,KAAD,EAAU;AAChB,WAAG,KAAH;AACA,cAAM,KAAN;AACA,KArBK,CAAP;AAsBA;AAGD,SAAA,OAAA,CAAiB,KAAjB,EAAgC;AAC/B,QAAM,cAAc,KAAd,yCAAc,KAAd,CAAN;AACA,QAAI,SAAS,UAAb,EAAyB;AACxB,cAAM,IAAN;AAEA,eAAO,UAAC,GAAD;AAAA,mBAAa,SAAS,GAAT,EAAc,KAAd,CAAb;AAAA,SAAP;AACA,KAJD,MAIO,IAAI,SAAS,QAAT,IAAqB,SAAS,IAAlC,EAAwC;AAC9C,eAAO,SAAS,KAAT,CAAP;AACA;AACD;eAEc,O;;;;;;;;;;;;;4BA3CX,I;4BAMJ,Q;4BA0BA,O","sourcesContent":["import axios, { AxiosInstance } from 'axios';\n\nlet http: AxiosInstance = axios.create({\n\tbaseURL: `${location.protocol}//${location.hostname}:${location.port}`,\n\ttimeout: 5000,\n\tdata: {}\n});\n\nfunction _request(param: {} = {}, fn: Function = () => {}) {\n\treturn http({\n\t\t...param\n\t})\n\t\t.then((res) => {\n\t\t\tconst { msg, status } = res.data;\n\n\t\t\tif (status === 10) {\n\t\t\t\twindow.location.href = '/login';\n\n\t\t\t\treturn;\n\t\t\t} else if (status === 0) {\n\t\t\t\tfn(false);\n\n\t\t\t\treturn res;\n\t\t\t} else {\n\t\t\t\tthrow msg;\n\t\t\t}\n\t\t})\n\t\t.catch((error) => {\n\t\t\tfn(false);\n\t\t\tthrow error;\n\t\t});\n}\n\nfunction request(param: {});\nfunction request(param: Function) {\n\tconst type = typeof param;\n\tif (type === 'function') {\n\t\tparam(true);\n\t\t\n\t\treturn (obj: {}) => _request(obj, param);\n\t} else if (type === 'object' && type !== null) {\n\t\treturn _request(param);\n\t}\n}\n\nexport default request;\n"],"sourceRoot":""}]}